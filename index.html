<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Essalud - Login</title>
    <link rel="icon" type="image/jpeg" href="Familia.jpg">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="circle left"></div>
        <div class="circle right"></div>
        <div class="image-container">
            <img src="Familia.jpg" alt="Imagen de familia">
        </div>
    </div>
    
    <div class="main-content" id="mainContent">
        <div class="logo-container">
            <img src="https://dondemeatiendo.essalud.gob.pe/assets/images/logo-essalud-v2.png" alt="Essalud Logo" class="logo">
            <video src="https://apexamerica.com/wp-content/uploads/mundo-y-circulo-1.mp4" class="video" loop muted autoplay playsinline></video>
        </div>
        
        <div class="container">
            <img src="https://dondemeatiendo.essalud.gob.pe/assets/images/fondo-titulo.png" alt="Header Image" class="header-image">
            <form class="login-form" onsubmit="handleLogin(event);">
                <input type="email" id="id_paciente" placeholder="Correo Electr√≥nico" required>
                <div class="password-container">
                    <input type="password" id="password" placeholder="Contrase√±a" required>
                    <span class="toggle-password" onclick="togglePassword()">
                        <img src="https://images.icon-icons.com/2717/PNG/512/eye_closed_icon_173849.png" alt="Toggle Password">
                    </span>
                </div>
                <div class="checkbox">
                    <input type="checkbox" id="recordar">
                    <label for="recordar">Recordar Cuenta</label>
                </div>
                <button type="submit">Iniciar Sesi√≥n</button>
                <div class="links">
                    <a onclick="showForgotPasswordModal()">¬øOlvidaste tu contrase√±a?</a>
                    <p>¬øA√∫n no tienes una cuenta Essalud?</p>
                </div>
                <button type="button" class="btn-secondary" onclick="showModal()">Crear cuenta</button>
            </form>
        </div>

        <!-- Modal de Recuperar Contrase√±a -->
        <div class="modal" id="forgotPasswordModal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeForgotPasswordModal()">&times;</span>
                <h2>Recuperar Contrase√±a</h2>
                
                <form class="modal-form" onsubmit="handlePasswordRecovery(event);">
                    <div class="info-box">
                        <p>Ingresa tu correo electr√≥nico y te enviaremos un c√≥digo de verificaci√≥n para restablecer tu contrase√±a.</p>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Correo Electr√≥nico</label>
                        <input type="email" id="recovery-email" placeholder="ejemplo@correo.com" required>
                    </div>
                    
                    <div id="verification-section" style="display: none;">
                        <div class="form-group">
                            <label class="form-label">C√≥digo de Verificaci√≥n</label>
                            <input type="text" id="verification-code" placeholder="Ingrese el c√≥digo de 6 d√≠gitos" maxlength="6">
                            <div class="error-message" id="code-error"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Nueva Contrase√±a</label>
                            <div class="password-container">
                                <input type="password" id="new-password-recovery" placeholder="M√≠nimo 8 caracteres">
                                <span class="toggle-password" onclick="toggleRecoveryPassword()">
                                    <img src="https://images.icon-icons.com/2717/PNG/512/eye_closed_icon_173849.png" alt="Toggle Password">
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Confirmar Nueva Contrase√±a</label>
                            <div class="password-container">
                                <input type="password" id="confirm-password-recovery" placeholder="Confirme su contrase√±a">
                                <span class="toggle-password" onclick="toggleConfirmRecoveryPassword()">
                                    <img src="https://images.icon-icons.com/2717/PNG/512/eye_closed_icon_173849.png" alt="Toggle Password">
                                </span>
                            </div>
                            <div class="error-message" id="recovery-password-error"></div>
                        </div>
                    </div>

                    <div class="success-message" id="recovery-success"></div>
                    
                    <button type="submit" class="submit-btn" id="recovery-btn">
                        Enviar C√≥digo
                    </button>
                </form>
            </div>
        </div>
        
        <!-- Modal de Crear Cuenta -->
        <div class="modal" id="createAccountModal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeModal()">&times;</span>
                <h2>Crear cuenta EsSalud</h2>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <form class="modal-form" onsubmit="handleRegister(event);">
                    <div class="form-group">
                        <label class="form-label">Tipo de documento</label>
                        <div class="document-container">
                            <div class="document-select-wrapper">
                                <img src="https://static.vecteezy.com/system/resources/previews/007/229/901/non_2x/identity-card-line-icon-vector.jpg" alt="Document Icon" class="document-icon">
                                <select name="document-type" id="document-type" required onchange="toggleCharacterVerifier()">
                                    <option value="dni" selected>DNI ‚Äì Documento Nacional de Identidad</option>
                                    <option value="ce">CE ‚Äì Carnet de Extranjer√≠a / Pasaporte</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group" id="character-verifier-group">
                        <label class="form-label">Car√°cter Verificador</label>
                        <input type="text" id="character-verifier" placeholder="D√≠gito verificador" required maxlength="1">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">N√∫mero de Documento</label>
                        <input type="text" id="document-number" placeholder="Ingrese su n√∫mero de documento" required maxlength="12" oninput="validateDocumentNumber()">
                        <div class="error-message" id="document-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Nombres Completos</label>
                        <input type="text" id="full-names" placeholder="Ingrese sus nombres" required oninput="validateNames()">
                        <div class="error-message" id="names-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Apellidos Completos</label>
                        <input type="text" id="last-names" placeholder="Ingrese sus apellidos" required oninput="validateNames()">
                        <div class="error-message" id="lastnames-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Fecha de Nacimiento</label>
                        <input type="date" id="birth-date" required onchange="validateAge()">
                        <div class="error-message" id="age-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Correo Electr√≥nico</label>
                        <input type="email" id="email" placeholder="ejemplo@correo.com" required oninput="validateEmail()">
                        <div class="error-message" id="email-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">N√∫mero de Celular</label>
                        <input type="tel" id="phone" placeholder="999123456" required maxlength="9" oninput="validatePhone()">
                        <div class="error-message" id="phone-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Contrase√±a</label>
                        <div class="password-container">
                            <input type="password" id="new-password" placeholder="M√≠nimo 8 caracteres" required oninput="validatePassword()">
                            <span class="toggle-password" onclick="toggleNewPassword()">
                                <img src="https://images.icon-icons.com/2717/PNG/512/eye_closed_icon_173849.png" alt="Toggle Password">
                            </span>
                        </div>
                        <div class="strength-indicator">
                            <div class="progress-bar" style="width: 150px; margin: 0;">
                                <div class="progress-fill" id="strength-bar"></div>
                            </div>
                            <span class="strength-text" id="strength-text">Muy d√©bil</span>
                        </div>
                        <div class="error-message" id="password-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Confirmar Contrase√±a</label>
                        <div class="password-container">
                            <input type="password" id="confirm-password" placeholder="Confirme su contrase√±a" required oninput="validatePasswordMatch()">
                            <span class="toggle-password" onclick="toggleConfirmPassword()">
                                <img src="https://images.icon-icons.com/2717/PNG/512/eye_closed_icon_173849.png" alt="Toggle Password">
                            </span>
                        </div>
                        <div class="error-message" id="confirm-password-error"></div>
                    </div>
                    
                    <div class="terms-checkbox">
                        <input type="checkbox" id="terms" required>
                        <label for="terms">
                            Acepto los <a onclick="showTerms()">T√©rminos y Condiciones</a> y la 
                            <a onclick="showPrivacyPolicy()">Pol√≠tica de Privacidad</a> de EsSalud
                        </label>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="register-btn" disabled>
                        Crear Cuenta
                    </button>
                </form>
            </div>
        </div>

        <!-- Modal de T√©rminos y Condiciones -->
        <div class="modal" id="termsModal">
            <div class="modal-content modal-content-terms">
                <span class="close-modal" onclick="closeTermsModal()">&times;</span>
                <h2>üìã T√©rminos y Condiciones - EsSalud</h2>
                
                <h3>1. Aceptaci√≥n de los T√©rminos</h3>
                <p>Al acceder y utilizar los servicios digitales de EsSalud, usted acepta estar legalmente vinculado por estos T√©rminos y Condiciones. Si no est√° de acuerdo con alguna parte de estos t√©rminos, por favor, no utilice nuestros servicios.</p>

                <h3>2. Uso del Servicio</h3>
                <ul>
                    <li><strong>Uso Personal:</strong> Los servicios est√°n destinados √∫nicamente para uso personal y no comercial.</li>
                    <li><strong>Informaci√≥n Veraz:</strong> Usted se compromete a proporcionar informaci√≥n precisa, actual y completa durante el registro.</li>
                    <li><strong>Confidencialidad:</strong> Es su responsabilidad mantener la confidencialidad de sus credenciales de acceso.</li>
                    <li><strong>Uso Apropiado:</strong> No debe usar nuestros servicios para ning√∫n prop√≥sito ilegal o no autorizado.</li>
                </ul>

                <h3>3. Privacidad y Protecci√≥n de Datos</h3>
                <p>EsSalud se compromete a proteger su privacidad y datos personales de acuerdo con la Ley N¬∞ 29733 - Ley de Protecci√≥n de Datos Personales del Per√∫.</p>
                <ul>
                    <li>Recopilamos solo la informaci√≥n necesaria para prestar nuestros servicios de salud.</li>
                    <li>Sus datos m√©dicos est√°n protegidos con los m√°s altos est√°ndares de seguridad.</li>
                    <li>No compartimos su informaci√≥n con terceros sin su consentimiento expl√≠cito.</li>
                </ul>

                <div class="highlight">
                    <strong>‚öïÔ∏è Importante:</strong> Sus datos de salud son estrictamente confidenciales y est√°n protegidos por el secreto profesional m√©dico establecido en la legislaci√≥n peruana.
                </div>

                <h3>4. Servicios Ofrecidos</h3>
                <p>A trav√©s de nuestra plataforma digital, usted puede:</p>
                <ul>
                    <li>Agendar citas m√©dicas</li>
                    <li>Consultar resultados de ex√°menes</li>
                    <li>Acceder a su historial m√©dico</li>
                    <li>Realizar teleconsultas</li>
                    <li>Solicitar certificados m√©dicos</li>
                </ul>

                <h3>5. Responsabilidades del Usuario</h3>
                <ul>
                    <li>Asistir puntualmente a las citas programadas o cancelarlas con anticipaci√≥n.</li>
                    <li>Mantener actualizada su informaci√≥n de contacto.</li>
                    <li>No compartir su cuenta con terceros.</li>
                    <li>Reportar cualquier actividad sospechosa en su cuenta.</li>
                </ul>

                <h3>6. Limitaciones de Responsabilidad</h3>
                <p>EsSalud no ser√° responsable por:</p>
                <ul>
                    <li>Interrupciones del servicio debido a mantenimiento programado o no programado.</li>
                    <li>P√©rdida de datos causada por fallas t√©cnicas fuera de nuestro control.</li>
                    <li>Da√±os indirectos o consecuentes derivados del uso de nuestros servicios.</li>
                </ul>

                <h3>7. Modificaciones</h3>
                <p>EsSalud se reserva el derecho de modificar estos t√©rminos en cualquier momento. Los cambios ser√°n notificados a trav√©s de nuestra plataforma y entrar√°n en vigencia inmediatamente despu√©s de su publicaci√≥n.</p>

                <h3>8. Contacto</h3>
                <div class="highlight">
                    <p><strong>üìß Email:</strong> consultas@essalud.gob.pe</p>
                    <p><strong>üìû Tel√©fono:</strong> 01-411-1111</p>
                    <p><strong>üåê Web:</strong> www.essalud.gob.pe</p>
                </div>

                <p style="text-align: center; margin-top: 20px; font-size: 12px; color: #ddd;">
                    √öltima actualizaci√≥n: Octubre 2025
                </p>

                <button class="accept-terms-btn" onclick="closeTermsModal()">
                    Entendido
                </button>
            </div>
        </div>

        <!-- Modal de Pol√≠tica de Privacidad -->
        <div class="modal" id="privacyModal">
            <div class="modal-content modal-content-terms">
                <span class="close-modal" onclick="closePrivacyModal()">&times;</span>
                <h2>üîí Pol√≠tica de Privacidad - EsSalud</h2>
                
                <h3>1. Informaci√≥n que Recopilamos</h3>
                <p>En EsSalud recopilamos la siguiente informaci√≥n:</p>
                
                <h4>Datos Personales:</h4>
                <ul>
                    <li>Nombres y apellidos completos</li>
                    <li>Documento de identidad (DNI, CE, Pasaporte)</li>
                    <li>Fecha de nacimiento</li>
                    <li>Direcci√≥n de residencia</li>
                    <li>Correo electr√≥nico y n√∫mero de tel√©fono</li>
                </ul>

                <h4>Informaci√≥n M√©dica:</h4>
                <ul>
                    <li>Historial m√©dico y diagn√≥sticos</li>
                    <li>Resultados de ex√°menes y an√°lisis</li>
                    <li>Prescripciones m√©dicas</li>
                    <li>Alergias y condiciones preexistentes</li>
                    <li>Tratamientos realizados</li>
                </ul>

                <h4>Datos de Navegaci√≥n:</h4>
                <ul>
                    <li>Direcci√≥n IP</li>
                    <li>Tipo de navegador y dispositivo</li>
                    <li>P√°ginas visitadas y tiempo de navegaci√≥n</li>
                    <li>Cookies y tecnolog√≠as similares</li>
                </ul>

                <h3>2. Uso de la Informaci√≥n</h3>
                <p>Utilizamos su informaci√≥n para:</p>
                <ul>
                    <li><strong>Prestaci√≥n de Servicios:</strong> Brindar atenci√≥n m√©dica de calidad y gestionar su historial cl√≠nico.</li>
                    <li><strong>Comunicaciones:</strong> Enviar recordatorios de citas, resultados m√©dicos y notificaciones importantes.</li>
                    <li><strong>Mejora del Servicio:</strong> Analizar el uso de la plataforma para mejorar nuestros servicios.</li>
                    <li><strong>Cumplimiento Legal:</strong> Cumplir con las obligaciones legales y regulatorias del sector salud.</li>
                </ul>

                <div class="highlight">
                    <strong>üõ°Ô∏è Compromiso de Seguridad:</strong> Toda su informaci√≥n m√©dica est√° encriptada y protegida con certificados SSL/TLS de √∫ltima generaci√≥n.
                </div>

                <h3>3. Compartir Informaci√≥n</h3>
                <p>Su informaci√≥n m√©dica puede ser compartida √∫nicamente en los siguientes casos:</p>
                <ul>
                    <li>Con profesionales de la salud autorizados que participan en su atenci√≥n.</li>
                    <li>Con laboratorios y centros de diagn√≥stico para realizar ex√°menes.</li>
                    <li>Cuando sea requerido por ley o autoridad competente.</li>
                    <li>Con su consentimiento expreso por escrito.</li>
                </ul>

                <p><strong>Nunca</strong> vendemos, alquilamos o comercializamos su informaci√≥n personal a terceros.</p>

                <h3>4. Seguridad de los Datos</h3>
                <p>Implementamos m√∫ltiples medidas de seguridad:</p>
                <ul>
                    <li>üîê Encriptaci√≥n de datos en tr√°nsito y en reposo</li>
                    <li>üîë Autenticaci√≥n de dos factores disponible</li>
                    <li>üë• Control de acceso basado en roles</li>
                    <li>üìä Auditor√≠as de seguridad peri√≥dicas</li>
                    <li>üíæ Copias de seguridad autom√°ticas y encriptadas</li>
                    <li>üö® Monitoreo continuo de actividades sospechosas</li>
                </ul>

                <h3>5. Sus Derechos</h3>
                <p>De acuerdo con la Ley de Protecci√≥n de Datos Personales, usted tiene derecho a:</p>
                <ul>
                    <li><strong>Acceso:</strong> Conocer qu√© datos personales tenemos sobre usted.</li>
                    <li><strong>Rectificaci√≥n:</strong> Solicitar la correcci√≥n de datos inexactos o incompletos.</li>
                    <li><strong>Cancelaci√≥n:</strong> Solicitar la eliminaci√≥n de sus datos personales.</li>
                    <li><strong>Oposici√≥n:</strong> Oponerse al tratamiento de sus datos personales.</li>
                    <li><strong>Portabilidad:</strong> Recibir una copia de sus datos en formato estructurado.</li>
                </ul>

                <div class="highlight">
                    <p>Para ejercer cualquiera de estos derechos, puede contactarnos a:</p>
                    <p><strong>üìß privacidad@essalud.gob.pe</strong></p>
                    <p>Responderemos a su solicitud en un plazo m√°ximo de 10 d√≠as h√°biles.</p>
                </div>

                <h3>6. Cookies y Tecnolog√≠as de Rastreo</h3>
                <p>Utilizamos cookies para:</p>
                <ul>
                    <li>Mantener su sesi√≥n activa</li>
                    <li>Recordar sus preferencias</li>
                    <li>Analizar el uso de la plataforma</li>
                    <li>Mejorar la experiencia del usuario</li>
                </ul>
                <p>Puede configurar su navegador para rechazar cookies, aunque esto puede afectar la funcionalidad del sitio.</p>

                <h3>7. Retenci√≥n de Datos</h3>
                <p>Conservamos su informaci√≥n m√©dica de acuerdo con las regulaciones del sector salud en Per√∫, que establecen un per√≠odo m√≠nimo de conservaci√≥n de 20 a√±os para historias cl√≠nicas.</p>

                <h3>8. Menores de Edad</h3>
                <p>Los servicios digitales de EsSalud requieren que los usuarios sean mayores de 18 a√±os. La informaci√≥n de menores solo puede ser gestionada por sus padres o tutores legales.</p>

                <h3>9. Cambios a esta Pol√≠tica</h3>
                <p>Nos reservamos el derecho de actualizar esta pol√≠tica de privacidad. Los cambios importantes ser√°n notificados por correo electr√≥nico y en nuestra plataforma.</p>

                <h3>10. Contacto</h3>
                <div class="highlight">
                    <p><strong>Oficial de Protecci√≥n de Datos</strong></p>
                    <p>üìß Email: privacidad@essalud.gob.pe</p>
                    <p>üìû Tel√©fono: 01-411-1111 (Opci√≥n 5)</p>
                    <p>üìç Direcci√≥n: Jr. Arica N¬∞ 363, Lima, Per√∫</p>
                </div>

                <p style="text-align: center; margin-top: 20px; font-size: 12px; color: #ddd;">
                    √öltima actualizaci√≥n: Octubre 2025<br>
                    Versi√≥n 2.0
                </p>

                <button class="accept-terms-btn" onclick="closePrivacyModal()">
                    Entendido
                </button>
            </div>
        </div>
    </div>
    
    <script src="index.js"></script>
</body>
</html>